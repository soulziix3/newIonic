<ion-header>
  <ion-navbar no-border-bottom>
   <ion-title align="middle">
     <img  class="capgeminiLogo" src="../assets/imgs/logoCapgemini.png" align="middle" height="30px" width="auto" />
   </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="logoutUser()">
        <ion-icon name="log-out"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

  <ion-toolbar no-border-top>
    <ion-segment [(ngModel)]="car">
      <ion-segment-button value="rent">
        Buchen
      </ion-segment-button>
      <ion-segment-button value="my_booking">
        Buchungen
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div [ngSwitch]="car">
    <ion-list *ngSwitchCase="'rent'">
      <form [formGroup]="bookcarForm" (ngSubmite)= "searchCars()">

        <ion-item >
          <ion-label >Buchungsbeginn</ion-label>
          <ion-datetime displayFormat="DD MMM YYYY" formControlName="dateStarts"> </ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label>Startzeitpunkt</ion-label>
          <ion-datetime displayFormat="H:mm" pickerFormat="H mm" formControlName="timeStarts" >
          </ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label>Buchungsende</ion-label>
          <ion-datetime displayFormat="DD MMM YYYY" formControlName="dateEnds" ></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label>Endzeitpunkt</ion-label>
          <ion-datetime displayFormat="H:mm" pickerFormat="H mm" formControlName="timeEnds"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label>Sitzpl√§tze</ion-label>
          <ion-input formControlName="seats"></ion-input>
        </ion-item>
        <button ion-button (click)="searchCars()" block>Fahrzeug buchen </button>
      </form>


    </ion-list>
    <ion-list *ngSwitchCase="'my_booking'">
      <ion-card *ngFor="let data of bookings | async">

        <ion-card-content *ngIf="data.userID == checkuID()">
          <div>
            <ion-card-header>
           Buchung
          </ion-card-header>
            <ion-grid>
              <ion-row>
                <ion-col>
                  <p>Startdatum: {{data.dateStart}}</p>
                  <p>Startzeit: {{data.timeStart}}</p>
                </ion-col>
                <ion-col>
                  <p> Enddatum: {{data.dateEnd}} </p>
                  <p>Endzeit: {{data.timeEnd}}</p>
                </ion-col>
              </ion-row>
            </ion-grid>
         <button ion-button (click)="deleteBooking(data)" block>Buchung stornieren</button>
          </div>

        </ion-card-content>
      </ion-card>



    </ion-list>
  </div>
</ion-content>

<style>
  ion-list:first-child {
    margin-top: 32px;
  }
  ion-list + ion-list {
    margin-top: 0;
  }
</style>

