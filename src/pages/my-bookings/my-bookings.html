
<ion-header>
  <ion-navbar no-border-bottom>
   <ion-title align="middle">
     <img  class="capgeminiLogo" src="../assets/imgs/logoCapgemini.png" align="middle" height="30px" width="auto" />
   </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="logoutUser()">
        <ion-icon name="log-out"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
   <ion-toolbar no-border-top>
    <ion-segment [(ngModel)]="bookings1">
      <ion-segment-button value="currentbookings">
        Aktuelle Buchungen
      </ion-segment-button>
      <ion-segment-button value="bookinghistory">
        Buchungshistorie
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content padding>
  <div [ngSwitch]="bookings1">
    <ion-list *ngSwitchCase="'currentbookings'">



      <ion-card *ngFor="let data of bookings | async">

        <ion-card-content>
          <div>
            <ion-card-header>
           Buchung
          </ion-card-header>
            <ion-row>
              <ion-col style="text-align: left">
                <ion-grid>
                  <ion-row>
                    <ion-col>
                      <p>Startdatum: {{data.dateStart}}</p>
                      <p>Startzeit: {{data.timeStart}}</p>
                    </ion-col>
                    <ion-col>
                      <p> Enddatum: {{data.dateEnd}} </p>
                      <p>Endzeit: {{data.timeEnd}}</p>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-col>
              <ion-col style="text-align: right">
                <button ion-button (click)="deleteBooking(data)" block>Buchung stornieren</button>
                <button ion-button (click)="goToProtocoll()" block>Schadensprotokoll erstellen</button>
              </ion-col>
            </ion-row>





          </div>
        </ion-card-content>

      </ion-card>
    </ion-list>

    <ion-list *ngSwitchCase="'bookinghistory'">
      <ion-card *ngFor="let data of bookings | async">

        <ion-card-content *ngIf="data.userID == checkuID() && data.dateStart < '2018-12-18' ">
          <div>
            <ion-card-header>
           Buchung
          </ion-card-header>
            <ion-row>
              <ion-col style="text-align: left">
                <ion-grid>
                  <ion-row>
                    <ion-col>
                      <p>Startdatum: {{data.dateStart}}</p>
                      <p>Startzeit: {{data.timeStart}}</p>
                    </ion-col>
                    <ion-col>
                      <p> Enddatum: {{data.dateEnd}} </p>
                      <p>Endzeit: {{data.timeEnd}}</p>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-col>
              <ion-col style="text-align: right">
                <button ion-button (click)="goToProtocoll()" block>Schadensprotokoll</button>
              </ion-col>
            </ion-row>
          </div>

        </ion-card-content>
      </ion-card>
    </ion-list>
  </div>

</ion-content>
